# Скрипты для генерации SVG-изображений IPC платформ

Данные скрипты предназначены для автоматической генерации SVG-схем портов для различных IPC платформ АПКШ Континент.

## Файлы

- `generate_ipc_svg.py` - Скрипт для создания базовых SVG-схем портов
- `ipc_port_mapper.py` - Класс для более детального анализа строк конфигурации и генерации расширенных SVG
- `generate_ipc_images.py` - Основной скрипт-запускатель, который использует оба вышеперечисленных скрипта

## Требования

- Python 3.6 или выше

## Использование

### Базовый запуск

Для запуска скрипта с настройками по умолчанию:

```bash
python generate_ipc_images.py
```

Это создаст SVG-изображения для всех IPC платформ, которые указаны в файле kstrcfg.html.

### Параметры командной строки

```bash
python generate_ipc_images.py --mode [basic|advanced|all] --html [путь_к_html] --img-dir [путь_к_директории_для_изображений]
```

Где:
- `--mode` - Режим генерации:
  - `basic` - создание только простых схем
  - `advanced` - создание детальных схем с анализом портов
  - `all` (по умолчанию) - создание обоих типов схем
- `--html` - Путь к HTML-файлу kstrcfg.html (по умолчанию: `../pages/kstrcfg.html`)
- `--img-dir` - Путь к директории, куда будут сохранены изображения (по умолчанию: `../img`)

### Примеры

1. Создать только простые схемы:
```bash
python generate_ipc_images.py --mode basic
```

2. Создать только детальные схемы:
```bash
python generate_ipc_images.py --mode advanced
```

3. Указать другой путь к HTML-файлу и директории для изображений:
```bash
python generate_ipc_images.py --html /путь/к/kstrcfg.html --img-dir /путь/к/директории/для/изображений
```

## Результат

Скрипты создают SVG-файлы для каждой платформы IPC, указанной в kstrcfg.html. Имена файлов соответствуют названиям платформ.

- Базовые схемы - простые, схематичные изображения с портами
- Расширенные схемы - детальные изображения с цветовым кодированием портов и их состояний на основе строки конфигурации

## Примечания

- Файлы SVG, которые уже существуют, не будут перезаписаны
- Для платформ, у которых отсутствуют схемы, будут сгенерированы новые SVG-файлы
- При возникновении ошибок в режиме "all", скрипт продолжит выполнение и попытается создать схемы в другом режиме 
